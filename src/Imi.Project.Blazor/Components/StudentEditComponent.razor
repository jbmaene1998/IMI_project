@using Imi.Project.Blazor.Core.Modals
@inherits Imi.Project.Blazor.Components.Base.StudentEditComponentBase

<EditForm Model="@Student"OnValidSubmit="@OnSave">
    <DataAnnotationsValidator />
    <ValidationSummary />
    <br/>
    <h1>Edit profile</h1>
    <br/>
    <div style="display: flex; flex-direction: column; justify-content: center; margin-left: auto; margin-right: auto">
        <div class="form-floating mb-3">
            <label>First Name</label>
            <InputText class="form-control" @bind-Value="Student.FirstName" />
        </div>
        <div class="form-floating mb-3">
            <label>LaST Name</label>
            <InputText class="form-control" @bind-Value="Student.LastName" />
        </div>
        <div class="form-floating mb-3">
            <label>Email</label>
            <InputText class="form-control" @bind-Value="Student.Email" />
        </div>
        <div class="form-floating mb-3">
            <label>Phone</label>
            <InputText class="form-control" @bind-Value="Student.Phone" />
        </div><div class="text-center bg-blue-100">
            <label>School</label>
            <InputText class="border-4 w-1/3 rounded m-6 p-6 h-8 border-blue-300" @bind-Value=Student.SchoolSearchText @oninput="OnSchoolInput" placeholder="@Student.School.Name"></InputText>
            <InputSelect @bind-Value="@Student.SchoolId"> 
            @{
                if (Schools != null)
                {
                    foreach (var item in Schools)
                    {
                        <option value="@item.Id">@item.Name</option>
                    }
                }
            };
            </InputSelect>
        </div>
        <div class="text-center bg-blue-100">
            <label>City</label>
            <InputText class="border-4 w-1/3 rounded m-6 p-6 h-8 border-blue-300" @bind-Value=Student.CitySearchText @oninput="OnCityInput" placeholder="@Student.Location.City"></InputText>
            <InputSelect @bind-Value="@Student.LocationId" > 
            @{
                if (Locations != null)
                {
                    foreach (Location location in Locations)
                    {
                        <option value="@location.Id" >@location.City</option>
                    }
                }
            };
            </InputSelect>
        </div>
        <div class="text-center bg-blue-100"> 
            <label>Job</label>
            <InputText class="border-4 w-1/3 rounded m-6 p-6 h-8 border-blue-300" @bind-Value=Student.JobSearchText @oninput="OnJobInput" placeholder="@Student.Job.Name"></InputText>
            <InputSelect @bind-Value="@Student.JobId"> 
                @{
                        if (Jobs != null)
                        {
                        foreach (Job job in Jobs)
                        {
                        <option value="@job.Id" >@job.Name</option>
                        }
                    }
                };
            </InputSelect>
        </div>
        <br/>
        <button class="btn btn-primary" type="submit">Save</button>
    </div>
</EditForm>
